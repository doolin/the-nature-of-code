<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Nature of Code</title>
    <style>
      body {
          justify-content: center;
          margin: auto;
          padding: auto;
          font-family: Arial, sans-serif;
          width: 580px;
          background-color: rgb(250, 250, 246); // #EBEBD2
      }
      blockquote {
        color: #909090; /* Dark grey color */
        font-style: italic; /* Optional: to differentiate blockquote from other text */
      }
      p {
          color: #707070; /* Dark grey color */
      }
      .text-content {
          width: 580px;
          text-align: left;
          color: #707070; /* Dark grey color */
      }
      h1 {
        color: #666;
      }
      h2, h3 {
          color: #666; /* Dark grey color */
      }
      .canvas-container {
          display: flex;
          justify-content: center;
          width: 100%;
      }
      canvas {
          justify-content: center;
          border: 3px solid #ccc; /* Optional: adds a light border around the canvas */
      }
    </style>
    <script src="./p5/p5.js"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="exercise-0.3.js"></script>
    <script src="./js/exercise-0.4.js"></script>
    <script src="./js/exercise-0.5.js"></script>
</head>
<body>
  <h1>The Nature of Code</h1>

  <p>
    Exercises from the book <a href="https://natureofcode.com/">The Nature of Code</a> by Daniel Shiffman.
  </p>

  <h2>Chapter 0 - Randomness</h2>

  <p>
    The first chapter <a href="https://natureofcode.com/random/">Randomness</a>
    introduces the concept of random numbers with simple examples such as random walks.
  </p>

  <h3 id="ex01"> Exercise 0.1: a random walker tending down and right</h3>

  <div class="canvas-container" id="random-walker"></div>

  <h3 id="ex02"> Exercise 0.2: drawing Aces</h3>

  <blockquote>
    What is the probability of drawing two aces in a row from a
    deck of 52 cards, if you reshuffle your first draw back into the deck
    before making your second draw? What would that probability be if you
    didn’t reshuffle after your first draw?
  </blockquote>

  <div>
    <p>This is very straightforward undergraduate probability.</p>
  </div>
  <oL>
    <li><b>With replacement</b>. First draw: \(\frac{4}{52}\); second draw: \(\frac{4}{52}\).
      Probability of drawing two aces in a row:
      $$\frac{4}{52} \times \frac{4}{52} = \frac{16}{2704} = \frac{1}{169}$$</li>
    <li><b>Without replacement</b>, First draw: \(\frac{4}{52}\); second draw: \(\frac{3}{51}\).
      Probability of drawing two aces in a row:
      $$\frac{4}{52} \times \frac{3}{51} = \frac{12}{2652} = \frac{1}{221}$$</li>
    </oL>

  <h3 id="ex03">Exercise 0.3: random walker with 4 choices</h3>

  <blockquote>
    Create a random walker with dynamic probabilities. For example,
    can you give it a 50 percent chance of moving in the direction
    of the mouse? Remember, you can use mouseX and mouseY to get the
    current mouse position in p5.js!
  </blockquote>

  <div>
    <p>
      There is some sublety to this exercise with respect to how "50%" is
      interpreted. Because the canvas tracks the position in floating point
      numbers and anti-aliases on rendering, we approximate the probabilities
      be defining two separate stepping functions. The first function will step
      in one of the 4 cardinal directions with probability 0.5, the second will
      step along a vector towards the current cursor position.
    </p>

    <p>
      Technically, there is some overlap in probabilities when the cursor is
      perfectly aligned along the cardinal directions. This slightly increases
      the probability of stepping in that direction.
    </p>

    <p>
      Another question: should the mouse coordinates be confined to the canvas,
      or be anywhere on the page?
    </p>

    <p>
      The walker below will step along the cursor position vector with probability 0.1.
      The 50% probability is boring and sends the walker straight to the cursor. If it
      reaches the cursor it will halt and not restart.
    </p>

    <div class="canvas-container" id="canvas1"></div>

    <p>
      More can be done: 1. confine the cursor to the canvas; 2. restart the walker after
      it reaches the cursor.
    </p>
  </div>


  <h3 id="ex04">Exercise 0.4: paint spatters</h3>

  <a href="https://natureofcode.com/random/#exercise-04">Direct link</a>.

  <blockquote>
    Consider a simulation of paint splatter drawn as a collection of
    colored dots. Most of the paint clusters around a central position,
    but some dots splatter out toward the edges. Can you use a normal
    distribution of random numbers to generate the positions of the
    dots? Can you also use a normal distribution of random numbers to
    generate a color palette? Try creating a slider to adjust the
    standard deviation.
  </blockquote>

  <p>
    This is several questions in one. We'll spatter some paint first.
  </p>

  <div class="canvas-container" id="paint-spatters"></div>

  <!-- <label for="stdDevSlider">Standard Deviation:</label>
  <input type="range" id="stdDevSlider" min="1" max="50" value="15">
  <span id="stdDevValue">15</span> -->

  <h3 id="ex05">Exercise 0.5: Gaussian random walk</h3>

  <a href="https://natureofcode.com/random/#exercise-05">Direct link</a>.

  <blockquote>
    A Gaussian random walk is defined as one in which the step size (how
    far the object moves in a given direction) is generated with a normal
    distribution. Implement this variation of the Walker class.
  </blockquote>

  <p>
    By definition, a Gaussian, or <i>normal</i> distribution is the continuous probability distribution
    $$
    f(x \,|\, \mu, \sigma) = \frac{1}{\sigma\sqrt{2\pi}} e^{-\frac{1}{2}\left(\frac{(x-\mu)}{\sigma}\right)^2}
    $$
    where \(\mu\) is the mean and \(\sigma\) is the standard deviation. With mean \(\mu = 0\) and
    and standard deviation \(\sigma = 1\), the distribution is the <i>standard normal distribution</i>.
    P5.js conveniently provides the function <code>randomGaussian()</code> to generate normally distributed
    random numbers. In the plot below, we set \(\mu = 0\) and \(\sigma = 3\) to produce interesting patterns.
  </p>
  <div class="canvas-container" id="gaussian-walker"></div>

  <p>
    A fun extension would be providing controls to adjust the mean and standard deviation.
  </p>
 

  <h3 id="ex06">Exercise 0.6: qualified random values</h3>

  <a href="https://natureofcode.com/random/#exercise-06">Direct link</a>.

  <blockquote>
    Use a custom probability distribution to vary the size of the random walker’s steps.
    The step size can be determined by influencing the range of values picked with a
    qualifying random value. Can you map the probability to a quadratic function by making
    the likelihood that a value is picked equal to the value squared?
  </blockquote>

  <h3 id="ex07">Exercise 0.7: Perlin noise</h3>

  <a href="https://natureofcode.com/random/#exercise-07">Direct link</a>.

  <blockquote>
    In the Perlin noise random walker, the result of the noise() function is mapped
    directly to the walker’s position. Create a random walker, but map the result of
    the noise() function to the walker’s step size instead.
  </blockquote>

  <hr />

  Footer TBD.

  <script>
      let walker;

      function setup() {
        let canvas = createCanvas(450, 240);
        canvas.parent('random-walker');
        background(245, 245, 220);
        walker = new Walker();
      }

      function draw() {
        walker.step();
        walker.show();
      }

      class Walker {
        constructor() {
          this.x = width / 2;
          this.y = height / 2;
        }

        show() {
          stroke([0, 100, 0]);
          point(this.x, this.y);
        }

        // Apparenently this continues even when past the canvas.
        step() {
          const choice = floor(random(120));
          if (choice >= 0 && choice < 31) {
            this.x++;
          } else if (choice >= 31 && choice < 62) {
            this.y++;
          } else if (choice >= 62 && choice < 92) {
            this.x--;
          } else {
            this.y--;
          }
        }
      }
    </script>
</body>
</html>
